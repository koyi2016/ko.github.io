

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>メモ &mdash; sphinx  ドキュメント</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="../../genindex.html"/>
        <link rel="search" title="検索" href="../../search.html"/>
    <link rel="top" title="sphinx  ドキュメント" href="../../index.html"/>
        <link rel="up" title="Java学習メモ" href="../index.html"/>
        <link rel="next" title="sql" href="../../sql/index.html"/>
        <link rel="prev" title="Javaフレームワークの学習メモ" href="../javaFramework/index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
  
  <a href="../../index.html" class="icon icon-home"> sphinx
  

  
  </a>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  
    <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Java学習メモ</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../javaknowledge/index.html">Java言語の基本知識</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../javaknowledge/basic_java/index.html">Java言語基本文法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../javaknowledge/object_and_class/index.html">クラス定義とオブジェクト生成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../javaknowledge/inheritance_and_interface/index.html">継承とサブクラスの定義</a></li>
<li class="toctree-l3"><a class="reference internal" href="../javaknowledge/exception/index.html">例外処理</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../javaTraining/index.html">Javaトレーニング</a></li>
<li class="toctree-l2"><a class="reference internal" href="../javaFramework/index.html">Javaフレームワークの学習メモ</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">メモ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nablarch">1. Nablarchログ</a></li>
<li class="toctree-l3"><a class="reference internal" href="#universaldao">2. universalDaoの利用</a></li>
<li class="toctree-l3"><a class="reference internal" href="#listsetstring">3. List、Set、string配列の変更</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pre">4. &lt;pre&gt;タグの役割</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spring">5. spring のリストに対して精査方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">6. Springプロジェクトのソースコード修正後、コンパイルだけで反映するための依存関係</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">7. 正規表現</a></li>
<li class="toctree-l3"><a class="reference internal" href="#doma-spring-bootsql">8. doma-spring-bootのSQL例外変換</a></li>
<li class="toctree-l3"><a class="reference internal" href="#string-isempty-stringutils-isemplty">9. String.isEmpty()とStringUtils.isEmplty()の区別</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bean-validation">10. Bean Validationのメモ</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">11. セロ埋め、半角スペース埋める方法</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sql/index.html">sql</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sql/index.html#oracle">1. oracleシステムユーザーがロックされた際の解除</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/index.html#sqldb">2. SQLで文字列を連結する場合、各DBによって仕様が異なる</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/index.html#nvl">3. NVL関数メモ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sql/index.html#id1">4. Oracleの桁数の書き方</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../office/index.html">Office学習メモ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../office/excel/index.html">Excelメモ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../office/excel/index.html#id1">1. excelでセルの値を選択できるようにリストを設定方法</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../office/excel/index.html#id2">2. 同じシートの複数ページに対して、共通ヘッダーの印刷設定</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../office/excel/index.html#id4">3. 関数利用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../office/excel/index.html#id5">4. Excelの個人情報を自動に削除</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../office/excel/index.html#id6">5. ウインドウ枠両方固定する設定</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../sphinx/index.html">sphinx文法</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../sphinx/index.html#url">urlの利用</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../soft/index.html">ソフトメモ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../soft/sphinx.html">sphinxのインストールメモ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../soft/sphinx.html#python">pythonのインストール</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../soft/sphinx.html#javasphinx">javasphinxのインストール</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../soft/sphinx.html#html">最後htmlファイルを生成する</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../soft/github.html">githubの利用メモ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../soft/github.html#github-pages">github Pagesを使ってドキュメントを公開方法</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../soft/proxy.html">proxyの設定メモ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../soft/proxy.html#id2">プロキシ権限設定</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">sphinx</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Java学習メモ</a> &raquo;</li>
        
      <li>メモ</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>メモ<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="nablarch">
<h2>1. Nablarchログ<a class="headerlink" href="#nablarch" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>ログ出力にはレベルがあり、レベルによって表示するエラーの量が変わります。</p>
<p>BeanExceptionはログレベル「DEBUG」として出力されているようなので、設定ファイル（log.properties）を書き換えてログレベルを変えれば出なくなると思います。</p>
<p><a class="reference external" href="https://nablarch.github.io/docs/LATEST/doc/application_framework/application_framework/libraries/log.html#log-log-level">【参考】7.1.6. ログレベルの定義</a></p>
</div>
<div class="section" id="universaldao">
<h2>2. universalDaoの利用<a class="headerlink" href="#universaldao" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>検索条件が単項目・複数項目の場合、new Object[] {項目１, 項目2}</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">UserDto</span> <span class="n">dto</span> <span class="o">=</span> <span class="n">UniversalDao</span><span class="o">.</span><span class="n">findBySqlFile</span><span class="p">(</span><span class="n">UserDto</span><span class="o">.</span><span class="n">class</span><span class="p">,</span> <span class="s2">&quot;SEARCH_USER_DETAIL&quot;</span><span class="p">,</span> <span class="n">new</span> <span class="n">Object</span><span class="p">[]</span> <span class="p">{</span><span class="n">form</span><span class="o">.</span><span class="n">getUserId</span><span class="p">()});</span>
</pre></div>
</div>
<p>検索条件がbeanの場合（form dto entityなど）、new Objectが不要</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">UserDto</span><span class="o">&gt;</span> <span class="n">searchResult</span> <span class="o">=</span> <span class="n">UniversalDao</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="n">searchCondition</span><span class="o">.</span><span class="n">getPageNumber</span><span class="p">())</span><span class="o">.</span><span class="n">per</span><span class="p">(</span><span class="mi">20</span><span class="n">L</span><span class="p">)</span><span class="o">.</span><span class="n">findAllBySqlFile</span><span class="p">(</span><span class="n">UserDto</span><span class="o">.</span><span class="n">class</span><span class="p">,</span> <span class="s2">&quot;SEARCH_USER&quot;</span><span class="p">,</span> <span class="n">searchCondition</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="listsetstring">
<h2>3. List、Set、string配列の変更<a class="headerlink" href="#listsetstring" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>リストをStringに変更</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="p">[]</span> <span class="n">samples</span> <span class="o">=</span> <span class="n">sampleList</span><span class="o">.</span><span class="n">toArray</span><span class="p">(</span><span class="n">new</span> <span class="n">String</span><span class="p">[</span><span class="n">sampleList</span><span class="o">.</span><span class="n">size</span><span class="p">()]);</span>
</pre></div>
</div>
<p>セットをStringに変更</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="p">[]</span> <span class="n">samples</span> <span class="o">=</span> <span class="n">sampleSet</span><span class="o">.</span><span class="n">toArray</span><span class="p">(</span><span class="n">new</span> <span class="n">String</span><span class="p">[</span><span class="n">sampleSet</span><span class="o">.</span><span class="n">size</span><span class="p">()]);</span>
</pre></div>
</div>
<p>セットからリストに変更</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">sampleList</span> <span class="o">=</span> <span class="n">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="n">sampleSet</span><span class="p">;</span>
</pre></div>
</div>
<p>リストからセットに変更</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Set</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">sampleSet</span> <span class="o">=</span> <span class="n">new</span> <span class="n">HashSet</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="n">sampleList</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="pre">
<h2>4. &lt;pre&gt;タグの役割<a class="headerlink" href="#pre" title="このヘッドラインへのパーマリンク">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li>連続する半角スペースはまとめて1つの半角スペースとして扱われる</li>
<li>タブ文字は半角スペース1つとして扱われる</li>
<li>改行コードは半角スペース1つとして扱われる</li>
<li>テキストが表示領域の横幅に達すると、そこで折り返して表示される</li>
</ul>
</div></blockquote>
<p>HTMLで&lt;/pre&gt;タグを使用すると、直後に1行空行が入るのですが、これを入らなくするために、スタイルシートでmarginを0に設定する</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">pre</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;margin:0; padding:0&quot;</span><span class="o">&gt;</span>
<span class="n">aaa</span>
<span class="n">bbb</span>
<span class="o">&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p><a class="reference external" href="https://dekiru.net/article/12888/">参考URL</a></p>
</div>
<div class="section" id="spring">
<h2>5. spring のリストに対して精査方法<a class="headerlink" href="#spring" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>入力フォームにリストを精査する時、こんな感じて作って、</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@Digits</span><span class="p">(</span><span class="n">integer</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="n">fraction</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">userIdList</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<p>で、実際に動かしてみると、エラーになっる</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">javax</span><span class="o">.</span><span class="n">validation</span><span class="o">.</span><span class="n">UnexpectedTypeException</span><span class="p">:</span> <span class="n">HV000030</span><span class="p">:</span> <span class="n">No</span> <span class="n">validator</span> <span class="n">could</span> <span class="n">be</span> <span class="n">found</span> <span class="k">for</span> <span class="n">constraint</span> <span class="s1">&#39;javax.validation.constraints.Digits&#39;</span> <span class="n">validating</span> <span class="nb">type</span> <span class="s1">&#39;java.util.List&#39;</span><span class="o">.</span> <span class="n">Check</span> <span class="n">configuration</span> <span class="k">for</span> <span class="s1">&#39;userIdList&#39;</span>
</pre></div>
</div>
<p>対応方法として、以下の二つがある</p>
<ol class="arabic simple">
<li>メインフォームに対応するサブフォームを作って&#64;Validと組み合わせる方法。</li>
</ol>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@Valid</span>
<span class="n">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">UserIdList</span><span class="o">&gt;</span> <span class="n">userIdList</span><span class="p">;</span>

<span class="n">public</span> <span class="k">class</span> <span class="nc">UserIdList</span> <span class="p">{</span>
  <span class="nd">@Digits</span><span class="p">(</span><span class="n">integer</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="n">fraction</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
  <span class="n">private</span> <span class="nb">int</span> <span class="n">userId</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>jsp側の書き方(nabalrchのタグを利用する場合)：</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">n</span><span class="p">:</span><span class="n">checkboxes</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;form.userIdList&quot;</span> <span class="n">listName</span><span class="o">=</span><span class="s2">&quot;userIds&quot;</span> <span class="n">elementLabelProperty</span><span class="o">=</span><span class="s2">&quot;userName&quot;</span> <span class="n">elementValueProperty</span><span class="o">=</span><span class="s2">&quot;userId&quot;</span> <span class="n">listFormat</span><span class="o">=</span><span class="s2">&quot;span&quot;</span> <span class="n">elementLabelPattern</span><span class="o">=</span><span class="s2">&quot;$LABEL$&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">c</span><span class="p">:</span><span class="n">forEach</span> <span class="n">begin</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;${userIds.size()-1}&quot;</span> <span class="n">varStatus</span><span class="o">=</span><span class="s2">&quot;status&quot;</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">n</span><span class="p">:</span><span class="n">error</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;form.userIdList[${status.index}].userId&quot;</span> <span class="n">errorCss</span><span class="o">=</span><span class="s2">&quot;message-error&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">c</span><span class="p">:</span><span class="n">forEach</span><span class="o">&gt;</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li>Validを利用してリスト中に一つずつ精査する</li>
</ol>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="nd">@Valid</span>
<span class="n">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="nd">@Digits</span><span class="p">(</span><span class="n">integer</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="n">fraction</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">userIdList</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<p>jsp側の書き方：</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">form</span><span class="p">:</span><span class="n">checkboxes</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;userIdList&quot;</span> <span class="n">items</span><span class="o">=</span><span class="s2">&quot;${userIds}&quot;</span> <span class="n">itemLabel</span><span class="o">=</span><span class="s2">&quot;userName&quot;</span> <span class="n">itemValue</span><span class="o">=</span><span class="s2">&quot;userId&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">form</span><span class="p">:</span><span class="n">errors</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;userIdList&quot;</span> <span class="n">cssClass</span><span class="o">=</span><span class="s2">&quot;message-error&quot;</span> <span class="n">element</span><span class="o">=</span><span class="s2">&quot;div&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="id3">
<h2>6. Springプロジェクトのソースコード修正後、コンパイルだけで反映するための依存関係<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>springプロジェクトに対して、サーバ起動のままソースコードの修正したら、サーバ再起動しないと変更点が反映できない。</p>
<p>サーバの再起動をせず、コンパイルだけで変更点を反映できるために、pomに以下の依存関係を追加する。</p>
<p>・Spring bootのバージョンが1.3以下の場合、springloadedを追加</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">plugin</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">org</span><span class="o">.</span><span class="n">springframework</span><span class="o">.</span><span class="n">boot</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">spring</span><span class="o">-</span><span class="n">boot</span><span class="o">-</span><span class="n">maven</span><span class="o">-</span><span class="n">plugin</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">dependencies</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">org</span><span class="o">.</span><span class="n">springframework</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">springloaded</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">8.</span><span class="n">RELEASE</span><span class="o">&lt;/</span><span class="n">version</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">dependencies</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">plugin</span><span class="o">&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>・Spring bootのバージョンが1.3以上の場合、spring-boot-devtoolsを追加</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">org</span><span class="o">.</span><span class="n">springframework</span><span class="o">.</span><span class="n">boot</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">spring</span><span class="o">-</span><span class="n">boot</span><span class="o">-</span><span class="n">devtools</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span>
</pre></div>
</div>
</div></blockquote>
<p>※それでは、デバックができなく。もう一つのプラグインを紹介する：Jrebel（変更したファイルだけをliveReloadする） <br />
参考： <a class="reference external" href="https://www.zybuluo.com/weiys/note/1141626">https://www.zybuluo.com/weiys/note/1141626</a></p>
</div>
<div class="section" id="id4">
<h2>7. 正規表現<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>分かりやすく参考のURL <br />
<a class="reference external" href="https://java-reference.com/java_string_regex.html">https://java-reference.com/java_string_regex.html</a></p>
</div>
<div class="section" id="doma-spring-bootsql">
<h2>8. doma-spring-bootのSQL例外変換<a class="headerlink" href="#doma-spring-bootsql" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>doma-spring-bootを利用すると、Doma2の例外クラス（JdbcException）をSpring Transactionの例外クラス（DataAccessException）に変換してくれます。</p>
<p>例えば、doma2の排他制御が行う時、基本的にOptimisticLockExceptionがスローされますが、
doma-spring-bootを利用される場合、実際にOptimisticLockingFailureExceptionがスローされる</p>
<p>詳細は以下のURLを参考 <br />
<a class="reference external" href="https://int128.hatenablog.com/entry/2017/01/07/020030">https://int128.hatenablog.com/entry/2017/01/07/020030</a></p>
</div>
<div class="section" id="string-isempty-stringutils-isemplty">
<h2>9. String.isEmpty()とStringUtils.isEmplty()の区別<a class="headerlink" href="#string-isempty-stringutils-isemplty" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>StringのisEmpty()は対象変数のlength()が0（つまり空文字の場合）trueを返す。<br />
StringUtilsのisEmpty()は対象変数がnullまだは空文字の場合trueを返す</p>
<div class="highlight-java"><div class="highlight"><pre><span></span>String str1 = null;
String str2 = &quot; &quot;;

str1.isEmpty()  ⇒ NullPointerExceptinが発生
str2.isEmpty()  ⇒ true

StringUtils.isEmpty(str1)  ⇒ true
StringUtils.isEmpty(str1)  ⇒ true
</pre></div>
</div>
</div>
<div class="section" id="bean-validation">
<h2>10. Bean Validationのメモ<a class="headerlink" href="#bean-validation" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Bean Validation （JSR-303）は、JavaBeans のプロパティが取り得る値や条件を、精査する仕組み。Java EE6 から追加され、Java EE7 でのバージョンは1.1である。<br />
Bean Validationの標準アノテーションのパッケージはjavax.validation.*</p>
<p>Hibernate ValidatorはBean Validationで定義されたアノテーションに加え、独自の検証用アノテーションを提供している。<br />
Hibernate Validatorの代表的なアノテーションのパッケージはorg.hibernate.validator.constraints.*</p>
<p>Spring は、Java標準であるBean Validationをサポートしている。 単項目チェックには、このBean Validationを利用する。
相関項目チェックの場合は、Bean ValidationまたはSpringが提供しているorg.springframework.validation.Validatorインタフェースを利用する</p>
<p>Nablarchでは、2種類のバリデーション機能を提供されている。<br />
* <a class="reference external" href="https://nablarch.github.io/docs/LATEST/doc/application_framework/application_framework/libraries/validation/bean_validation.html">Java EE7のBean Validation(JSR349)に準拠したバリデーション機能</a>  <br />
* <a class="reference external" href="https://nablarch.github.io/docs/LATEST/doc/application_framework/application_framework/libraries/validation/nablarch_validation.html">Nablarch独自のバリデーション機能 (Nablarch Validation)</a></p>
<p>参考URL: <br />
<a class="reference external" href="https://nablarch.github.io/docs/LATEST/doc/application_framework/application_framework/libraries/validation.html">Nablarchの入力チェック</a>   <br />
<a class="reference external" href="http://terasolunaorg.github.io/guideline/5.4.1.RELEASE/ja/ArchitectureInDetail/WebApplicationDetail/Validation.html">Springの入力チェック</a></p>
<blockquote>
<div><div class="admonition tip">
<p class="first admonition-title">ちなみに</p>
<p class="last">&#64;Validatedは、Bean Validation標準ではなく、Springの独自アノテーションである。
Bean Validation標準のjavax.validation.Validアノテーションも使用できるが、
&#64;Validatedは&#64;Validに比べて、 バリデーションのグループ(順序関係)を指定できる点で優れているため、&#64;Validatedを使用することを推奨する。</p>
</div>
</div></blockquote>
</div>
<div class="section" id="id7">
<h2>11. セロ埋め、半角スペース埋める方法<a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h2>
<blockquote>
<div><table border="1" class="colwidths-given white-space-normal docutils" id="id8">
<caption><span class="caption-text">記述例</span><a class="headerlink" href="#id8" title="このテーブルへのパーマリンク">¶</a></caption>
<colgroup>
<col width="16%" />
<col width="33%" />
<col width="51%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">用途</th>
<th class="head">記述例</th>
<th class="head">備考</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>文字列の先頭を空白埋めする</td>
<td>String.format(&#8220;%6s&#8221;, &#8220;abc&#8221;)</td>
<td>指定文字列を最大6桁まで文字列の左側に空文字を追加します。</td>
</tr>
<tr class="row-odd"><td>文字列の後ろへ空白埋めする</td>
<td>String.format(&#8220;%-6s&#8221;, &#8220;abc&#8221;)</td>
<td>指定文字列を最大6桁まで文字列の右側に空文字を追加します。</td>
</tr>
<tr class="row-even"><td>数字の先頭を０埋めする</td>
<td>String.format(&#8220;%06d&#8221;, 123)</td>
<td>指定数字を最大6桁まで文字列の左側にゼロパディングします。</td>
</tr>
<tr class="row-odd"><td>数字を3桁ごとにカンマ区切りする</td>
<td>String.format(&#8220;%,d&#8221;, 123456789)</td>
<td>指定数字を3桁毎にカンマ区切りします。</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>

    <hr/>

    <div role="contentinfo">
        <p>
            &copy; Copyright 2016-2018, ko.
        </p>
    </div>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>